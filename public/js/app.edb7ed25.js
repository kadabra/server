(function(t){function e(e){for(var a,r,s=e[0],c=e[1],l=e[2],u=0,p=[];u<s.length;u++)r=s[u],o[r]&&p.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={app:0},i=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},"121a":function(t,e,n){},"204b":function(t,e,n){},"223b":function(t,e,n){"use strict";var a=n("a480"),o=n.n(a);o.a},"26ea":function(t,e,n){},3802:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("5363");var a=n("2b0e"),o=n("bb71");n("da64");a["a"].use(o["a"]);var i=n("8ff0");Object(i["a"])(a["a"],"div","box",["flex","column"]),Object(i["a"])(a["a"],"span","txt"),Object(i["a"])(a["a"],"div","row",["flex"]),Object(i["a"])(a["a"],"div","column",["flex","column"]),Object(i["a"])(a["a"],"div","wrapper",["flex","center"]);var r=n("028f");a["a"].prototype.$K=Object(r["a"])(),a["a"].prototype.$kadabra=r["a"];var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{staticClass:"app-root",attrs:{dark:t.$store.getters.dark}},[n("toolbar"),n("stage")],1)},c=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{attrs:{app:""}},[n("span",{staticClass:"site-title display-1 bold"},[t._v("Kadabra")]),n("v-spacer"),n("dark-mode-toggle")],1)},d=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{fit:"","no-grow":""}},[n("v-btn",{attrs:{icon:"",large:""},on:{click:function(e){return e.stopPropagation(),t.toggleDark(e)}}},[n("v-icon",{attrs:{large:""}},[t._v("\n      "+t._s(t.icon)+"\n    ")])],1)],1)},p=[],v={methods:{toggleDark(){this.$store.commit("set-dark",!this.dark)}},computed:{dark(){return this.$store.getters.dark},icon(){return this.dark?"brightness_3":"brightness_5"}}},m=v,h=n("2877"),f=n("6544"),b=n.n(f),x=n("8336"),_=n("0e8f"),w=n("132d"),g=Object(h["a"])(m,u,p,!1,null,null,null);g.options.__file="DarkModeToggle.vue";var k=g.exports;b()(g,{VBtn:x["a"],VFlex:_["a"],VIcon:w["a"]});var C={components:{DarkModeToggle:k}},V=C,E=(n("e513"),n("9910")),y=n("71d9"),$=Object(h["a"])(V,l,d,!1,null,"7ebdc706",null);$.options.__file="Toolbar.vue";var j=$.exports;b()($,{VSpacer:E["a"],VToolbar:y["a"]});var O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-content",{staticClass:"stage"},[n("page")],1)},S=[],T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("row",{attrs:{fill:""}},[n("connection-browser"),n("endpoint-browser")],1)},B=[],D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"connection-browser"},[n("box",{attrs:{"fill-height":"","justify-space-between":""}},[n("column",t._l(t.connections,function(t,e){return n("connection",{key:t.name,attrs:{connection:t,index:e}})})),n("add-connection-btn")],1)],1)},F=[],A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{width:"500"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[n("v-card",{staticClass:"pointer flex no-grow center pa-2",attrs:{slot:"activator",ripple:"",color:"darken-20-percent"},slot:"activator"},[n("span",{staticClass:"pr-2"},[t._v("Add Connection")]),n("v-icon",[t._v("add")])],1),n("v-card",[n("v-card-title",{staticClass:"headline darken-20-percent",attrs:{"primary-title":""}},[t._v("\n      Add New Connection\n    ")]),n("v-card-text",[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Host"},model:{value:t.host,callback:function(e){t.host=e},expression:"host"}})],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.addConnection}},[t._v("\n        Add\n      ")])],1)],1)],1)},P=[],q={data:()=>({name:"Example",host:"www.example.com",modal:!1}),methods:{addConnection(){if(!this.name||!this.host)return;let t=this.$store.getters.connections;t.push({name:this.name,host:this.host}),this.modal=!1}}},I=q,z=n("b0af"),M=n("99d9"),N=n("12b2"),R=n("169a"),H=n("ce7e"),L=n("2677"),J=Object(h["a"])(I,A,P,!1,null,null,null);J.options.__file="AddConnectionBtn.vue";var K=J.exports;b()(J,{VBtn:x["a"],VCard:z["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:N["a"],VDialog:R["a"],VDivider:H["a"],VFlex:_["a"],VIcon:w["a"],VSpacer:E["a"],VTextField:L["a"]});var W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-treeview",{staticClass:"connection",attrs:{open:t.open,items:t.items,"item-key":"name"},on:{"update:open":function(e){t.open=e}},scopedSlots:t._u([{key:"prepend",fn:function(e){var a=e.item,o=(e.open,e.leaf);return[n("v-flex",{attrs:{"no-grow":"","pr-3":""}},[o?[a.icon?n("v-icon",[t._v("\n          "+t._s(a.icon)+"\n        ")]):n("v-icon",[t._v("mdi-checkbox-blank-circle-outline")])]:t._e()],2)]}},{key:"append",fn:function(e){var a=e.item,o=(e.open,e.leaf);return[n("v-flex",{attrs:{"no-grow":"","pl-3":"","pr-1":""}},o?[n("edit-endpoint-btn",{attrs:{connection:t.connection,sub:t.sub,endpoint:a}}),n("v-icon",{staticClass:"muted fw pl-1",on:{click:function(e){t.searchEndpoint(a,t.connection)}}},[t._v("search")])]:[n("edit-connection-btn",{attrs:{connection:t.connection,index:t.index}}),n("create-endpoint-btn",{attrs:{connection:t.connection,sub:t.sub}})],1)]}}]),model:{value:t.tree,callback:function(e){t.tree=e},expression:"tree"}})},G=[],Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{width:"500"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[n("v-icon",{staticClass:"muted fw",attrs:{slot:"activator"},slot:"activator"},[t._v("settings")]),n("v-card",[n("v-card-title",{staticClass:"headline darken-20-percent",attrs:{"primary-title":""}},[t._v("\n      Edit Connection\n    ")]),n("v-card-text",[n("v-flex",{attrs:{xs12:"","px-4":""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("v-flex",{attrs:{xs12:"","px-4":""}},[n("v-text-field",{attrs:{label:"Host"},model:{value:t.host,callback:function(e){t.host=e},expression:"host"}})],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.editConnection}},[t._v("\n        Save\n      ")])],1)],1)],1)},U=[],X={props:{connection:{type:Object,required:!0},index:{type:Number,required:!0}},data:()=>({name:"Example",host:"www.example.com",modal:!1}),methods:{editConnection(){if(!this.name||!this.host)return;let t={name:this.name,host:this.host},e={index:this.index,connection:t};this.$store.commit("replace-connection",e),this.modal=!1}},watch:{modal(t,e){t&&(this.name=this.connection.name,this.host=this.connection.host)}}},Y=X,Z=Object(h["a"])(Y,Q,U,!1,null,null,null);Z.options.__file="EditConnectionBtn.vue";var tt=Z.exports;b()(Z,{VBtn:x["a"],VCard:z["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:N["a"],VDialog:R["a"],VDivider:H["a"],VFlex:_["a"],VIcon:w["a"],VSpacer:E["a"],VTextField:L["a"]});var et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{width:"500"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[n("v-icon",{staticClass:"muted fw",attrs:{slot:"activator"},slot:"activator"},[t._v("add")]),n("v-card",[n("v-card-title",{staticClass:"headline darken-20-percent",attrs:{"primary-title":""}},[t._v("\n      Create Endpoint\n    ")]),n("v-card-text",[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Name (recommended: kebab-case)"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("row",[n("v-flex",{attrs:{xs3:"",center:""}},[n("v-icon",[t._v(t._s(t.icon))])],1),n("v-flex",{attrs:{xs9:""}},[n("v-text-field",{attrs:{label:"Icon"},model:{value:t.icon,callback:function(e){t.icon=e},expression:"icon"}})],1)],1),n("p",[n("a",{attrs:{href:"https://cdn.materialdesignicons.com/3.0.39/",target:"_blank"}},[t._v("See available icons here")]),t._v(" (opens in new tab)")])],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.createEndpoint}},[t._v("Add")])],1)],1)],1)},nt=[];function at(t,e){if(!e.name)return;let n=new Promise(n=>{let a=e.$kadabra(e.connection.host);a("endpoints").create(t),n()});n.then(e.sub).then(t=>{e.modal=!1})}function ot(t,e){let n=new Promise(n=>{let a=e.$kadabra(e.connection.host);a("endpoints").patch(t,{icon:e.icon}),n()});n.then(e.sub).then(t=>{e.modal=!1})}function it(t,e){let n=new Promise(n=>{let a=e.$kadabra(e.connection.host);a("endpoints").remove(t),n()});n.then(e.sub).then(t=>{e.modal=!1})}var rt={props:{connection:{type:Object,required:!0},sub:{type:Function,required:!0}},data:()=>({name:"example",icon:"mdi-checkbox-blank-circle-outline",modal:!1}),methods:{createEndpoint(){let t={name:this.name,icon:this.icon};at(t,this)}}},st=rt,ct=Object(h["a"])(st,et,nt,!1,null,null,null);ct.options.__file="CreateEndpointBtn.vue";var lt=ct.exports;b()(ct,{VBtn:x["a"],VCard:z["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:N["a"],VDialog:R["a"],VDivider:H["a"],VFlex:_["a"],VIcon:w["a"],VSpacer:E["a"],VTextField:L["a"]});var dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{width:"500"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[n("v-icon",{staticClass:"muted fw",attrs:{slot:"activator"},slot:"activator"},[t._v("edit")]),n("v-card",[n("v-card-title",{staticClass:"headline darken-20-percent",attrs:{"primary-title":""}},[t._v("\n      Edit Endpoint: "+t._s(t.name)+"\n    ")]),n("v-card-text",[n("row",[n("v-flex",{attrs:{xs3:"",center:""}},[n("v-icon",[t._v(t._s(t.icon))])],1),n("v-flex",{attrs:{xs9:""}},[n("v-text-field",{attrs:{label:"Icon"},model:{value:t.icon,callback:function(e){t.icon=e},expression:"icon"}})],1)],1),n("p",[n("a",{attrs:{href:"https://cdn.materialdesignicons.com/3.0.39/",target:"_blank"}},[t._v("See available icons here")]),t._v(" (opens in new tab)")])],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{flat:"",color:"danger"},on:{click:t.deleteEndpoint}},[t._v("Delete")]),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.updateEndpoint}},[t._v("Save")])],1)],1)],1)},ut=[],pt={props:{connection:{type:Object,required:!0},sub:{type:Function,required:!0},endpoint:{type:Object,required:!0}},data:()=>({name:"example",icon:"mdi-checkbox-blank-circle-outline",modal:!1}),methods:{updateEndpoint(){ot(this.endpoint.name,this)},deleteEndpoint(){it(this.endpoint.name,this)}},watch:{modal(t,e){t&&(this.name=this.endpoint.name,this.icon=this.endpoint.icon)}}},vt=pt,mt=Object(h["a"])(vt,dt,ut,!1,null,null,null);mt.options.__file="EditEndpointBtn.vue";var ht=mt.exports;b()(mt,{VBtn:x["a"],VCard:z["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:N["a"],VDialog:R["a"],VDivider:H["a"],VFlex:_["a"],VIcon:w["a"],VSpacer:E["a"],VTextField:L["a"]});var ft={components:{EditConnectionBtn:tt,CreateEndpointBtn:lt,EditEndpointBtn:ht},props:{connection:Object,index:Number},data(){return{kadabra:this.$kadabra(this.connection.host),open:[this.connection.name],tree:[],rawEndpoints:{},subscription:null}},computed:{endpoints(){let t=[];for(let[e,n]of Object.entries(this.rawEndpoints))t.push(n);return t.sort((t,e)=>t.name>e.name?1:t.name<e.name?-1:0)},items(){return[{name:this.connection.name,children:this.endpoints}]}},methods:{unsub(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)},sub(){let t=this;this.unsub(),this.subscription=t.kadabra("endpoints").watch().find().subscribe(e=>{t.rawEndpoints=e})},searchEndpoint(t,e){this.$store.commit("set-endpoint",{endpoint:t,connection:e})}},mounted(){this.sub()}},bt=ft,xt=(n("9bf5"),n("c477"),n("eb2a")),_t=Object(h["a"])(bt,W,G,!1,null,"4cafd35a",null);_t.options.__file="Connection.vue";var wt=_t.exports;b()(_t,{VFlex:_["a"],VIcon:w["a"],VTreeview:xt["a"]});var gt={components:{Connection:wt,AddConnectionBtn:K},data:()=>({connections:[]}),computed:{cons(){return this.$store.getters.connections}},methods:{setConnections(){this.connections=this.$store.getters.connections}},watch:{cons:{immediate:!0,handler:"setConnections",deep:!0}}},kt=gt,Ct=(n("223b"),Object(h["a"])(kt,D,F,!1,null,"5172aae0",null));Ct.options.__file="ConnectionBrowser.vue";var Vt=Ct.exports;b()(Ct,{VCard:z["a"]});var Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$store.getters.endpoint?n("column",[n("v-card",{staticClass:"pl-5 py-3 no-grow",attrs:{flat:"",color:"darken-20-percent"}},[n("h2",[t._v("/"+t._s(t.endpoint.name))])]),n("v-flex",{attrs:{"px-5":"","pt-4":""}},[t._v("\n    "+t._s(t.response)+"\n  ")])],1):t._e()},yt=[],$t={data(){return{subscription:null,response:{}}},computed:{endpoint(){return this.$store.getters.endpoint?this.$store.getters.endpoint.endpoint:{}},connection(){return this.$store.getters.endpoint?this.$store.getters.endpoint.connection:{}}},methods:{unsub(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)},sub(){let t=this,e=t.$kadabra(t.connection.host);this.unsub(),this.subscription=e(t.endpoint.name).watch({listStrategy:"always"}).find({query:{$limit:50}}).subscribe(e=>{t.response=e})},editConnection(t){alert("Server Settings [coming soon]")},createEndpoint(){alert("Create Endpoint")},editEndpoint(){alert("Edit Endpoint")},searchEndpoint(){alert("Search Endpoint")}},watch:{endpoint(t,e){t&&this.sub()}}},jt=$t,Ot=Object(h["a"])(jt,Et,yt,!1,null,null,null);Ot.options.__file="EndpointBrowser.vue";var St=Ot.exports;b()(Ot,{VCard:z["a"],VFlex:_["a"]});var Tt={components:{ConnectionBrowser:Vt,EndpointBrowser:St}},Bt=Tt,Dt=Object(h["a"])(Bt,T,B,!1,null,null,null);Dt.options.__file="Page.vue";var Ft=Dt.exports,At={components:{Page:Ft}},Pt=At,qt=(n("7e4c"),n("549c")),It=Object(h["a"])(Pt,O,S,!1,null,"2f88ecaf",null);It.options.__file="Stage.vue";var zt=It.exports;b()(It,{VContent:qt["a"]});var Mt={components:{Toolbar:j,Stage:zt},data:()=>({drawer:!1}),created(){window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize(){this.$store.commit("set-width",window.innerWidth),this.$store.commit("set-height",window.innerHeight)}}},Nt=Mt,Rt=(n("5708"),n("7496")),Ht=Object(h["a"])(Nt,s,c,!1,null,"7c1d3444",null);Ht.options.__file="App.vue";var Lt=Ht.exports;b()(Ht,{VApp:Rt["a"]});var Jt=n("9a91");a["a"].use(Jt["a"]);var Kt=Jt["a"].Store({state:{dark:!0,menu:!1,width:0,height:0,connections:[{name:"Local",host:"http://localhost:7777"}],endpoint:null},mutations:{"replace-connection"(t,e){const{index:n,connection:a}=e;t.connections.splice(n,1,a)}}});a["a"].config.productionTip=!1,new a["a"]({store:Kt,render:t=>t(Lt)}).$mount("#app")},5708:function(t,e,n){"use strict";var a=n("3802"),o=n.n(a);o.a},"7e4c":function(t,e,n){"use strict";var a=n("121a"),o=n.n(a);o.a},"9bf5":function(t,e,n){"use strict";var a=n("d995"),o=n.n(a);o.a},a480:function(t,e,n){},c477:function(t,e,n){"use strict";var a=n("26ea"),o=n.n(a);o.a},d995:function(t,e,n){},e513:function(t,e,n){"use strict";var a=n("204b"),o=n.n(a);o.a}});
//# sourceMappingURL=app.edb7ed25.js.map